{% extends "list_template.html" %}

<!-- Icon to use next to heading -->
{% block icon %}
{% endblock %}

<!-- Custom Buttons -->
{% block buttons %}
<!--put custom buttons here-->
<!--They will be inserted between the "Add" and "Export" buttons-->
{% endblock %}

<!-- Header -->
{% block header %}
    <th>Equipment ID</th>
    <th>Equipment Type</th>
    <th>Service Type</th>
    <th>Vendor Personnel</th>
    <th>Service Date</th>
    <th>Issue</th>
    <th>Resolution</th>
    <th>Notes</th>


{% endblock %}

<!-- Body -->
{% block body scoped %}
{% set table, route, name = kwargs['modules'][item.equipment_type][0], kwargs['modules'][item.equipment_type][1], kwargs['modules'][item.equipment_type][2] %}
    <td>
         <a href="{{url_for(route~'.view', item_id=item.equipment_id, request_url=request.referrer)}}">
                {{ table.query.get(item.equipment_id) | getattr(name)}}
         </a>
    </td>
    <td>{{item.equipment_type}}</td>
    <td>
        <a href="{{url_for(table_name~'.view', item_id=item.id)}}">
            {{item.service_types}}
        </a>
    </td>
    <td>{{item.vendor.full_name}}</td>
    <td>{{item.service_date.strftime("%m/%d/%Y")}}</td>
    <td>{{item.issue}}</td>
    <td>{{item.resolution}}</td>
    <td>{{item.notes}}</td>

{% endblock %}

{% block scripts %}
{% endblock %}
